- var scripts = []
- if (stubs) scripts.push('/bower_components/angular-mocks/angular-mocks')
- if (!stubs) scripts.push('/src/client/nostubs/project.nostub')
- scripts.push('/src/client/app/app.module')
- scripts.push('constants')
- scripts.push('/src/client/app/blocks/exception/exception.module')
- scripts.push('/src/client/app/blocks/logger/logger.module')
- scripts.push('/src/client/app/blocks/router/router.module')
- scripts.push('/src/client/app/core/resource/resource.module')
- scripts.push('/src/client/app/core/resource/resource.api.service')
- scripts.push('/src/client/app/core/resource/resource.data.provider')
- scripts.push('/src/client/app/work-request/work-request.module')
- scripts.push('/src/client/app/core/core.module')
- scripts.push('/src/client/app/layout/scripts/layout.module')
- scripts.push('/src/client/app/blocks/exception/exception-handler.provider')
- scripts.push('/src/client/app/blocks/exception/exception')
- scripts.push('/src/client/app/blocks/logger/logger')
- scripts.push('/src/client/app/blocks/router/router-helper.provider')
- scripts.push('/src/client/app/core/config')
- scripts.push('/src/client/app/core/core.constants')
- scripts.push('/src/client/app/core/core.route')

- var css = []
- var landscapeCSS = []
- var desktopCSS = []

//- Layout
- css.push("layout/styles/reset")
- css.push("layout/styles/main")
- css.push("layout/styles/header")
- css.push("layout/styles/footer")
- css.push("layout/styles/modal")
- css.push("layout/styles/form")

- landscapeCSS.push("layout/styles/header.landscape")
- landscapeCSS.push("layout/styles/main.landscape")

- desktopCSS.push("layout/styles/main.desktop")

//- Getting Started
- css.push("getting-started/styles/getting-started")
- landscapeCSS.push("getting-started/styles/getting-started.landscape")
- desktopCSS.push("getting-started/styles/getting-started.desktop")
- scripts.push('/src/client/app/getting-started/scripts/getting-started.module')
- scripts.push('/src/client/app/getting-started/scripts/getting-started.route')
- scripts.push('/src/client/app/getting-started/scripts/getting-started.controller')

//- Create Account
- css.push("create-account/styles/create-account")
- scripts.push("/src/client/app/create-account/scripts/create-account.module")
- scripts.push("/src/client/app/create-account/scripts/create-account.controller")
- scripts.push("/src/client/app/create-account/scripts/create-account.route")

//- Login
- css.push("login/styles/login")
- landscapeCSS.push("login/styles/login.landscape")
- desktopCSS.push("login/styles/login.desktop")
- scripts.push("/src/client/app/login/scripts/login.module")
- scripts.push("/src/client/app/login/scripts/login.controller")
- scripts.push("/src/client/app/login/scripts/login.route")

//- Project
- if (stubs) scripts.push('/src/client/app/project/project.stub')
- css.push("project/project")
- scripts.push('/src/client/app/project/create/scripts/create.module')
- scripts.push('/src/client/app/project/manage/scripts/manage.module')
- scripts.push('/src/client/app/project/project.module')
- scripts.push('/src/client/app/project/create/scripts/create.controller')
- scripts.push('/src/client/app/project/create/scripts/create.route')
- scripts.push('/src/client/app/project/create/scripts/home.controller')
- scripts.push('/src/client/app/project/submit/scripts/submit.controller')
- scripts.push('/src/client/app/project/manage/scripts/lookandFeel.filter')
- scripts.push('/src/client/app/project/manage/scripts/screens.filter')
- scripts.push('/src/client/app/project/manage/scripts/manage.route')
- scripts.push('/src/client/app/project/manage/scripts/multiple.controller')
- scripts.push('/src/client/app/project/manage/scripts/single.controller')
- scripts.push('/src/client/app/project/project.service')

//- submit work
include submit-work/includes.jade
- scripts       = scripts.concat(jsFiles)
- css           = css.concat(cssFiles)
- landscapeCSS = landscapeCSS.concat(landscapeFiles)
- desktopCSS    = desktopCSS.concat(desktopFiles)

include bowers.jade

doctype html
html(ng-app='app')
  head
    style.
      /* This helps the ng-show/ng-hide animations start at the right place. */
      /* Since Angular has this but needs to load, this gives us the class early. */
      .ng-hide {
        display: none !important;
      }
    title(ng-bind='title') Appiro Work Platform

    meta(charset='utf-8')

    meta(http-equiv='X-UA-Compatible', content='IE=edge, chrome=1')

    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no')

    base(href=basePath)

    // build:css styles/lib.css
    each path in bowercss
      link(href=path + ".css", rel="stylesheet")
    // endbuild

    // build:css styles/app.css
    each path in css
      link(href=path + ".css", rel="stylesheet")
    // endbuild

    // build:css styles/mobile-landscape.css media="(min-width: 568px)"
    each path in landscapeCSS
      link(href=path + ".css", rel="stylesheet", media="(min-width: 568px)")
    // endbuild

    // build:css styles/desktop.css media="(min-width: 767px)"
    each path in desktopCSS
      link(href=path + ".css", rel="stylesheet", media="(min-width: 767px)")
    // endbuild

  body
    include layout/views/shell.jade

    // build:js js/lib.js
    each path in bowers
      script(src= path + ".js", type="text/javascript")
    // endbuild

    // build:js js/app.js
    each path in scripts
      script(src=path + ".js", type="text/javascript")
    // inject:templates:js
    // endinject
    // endbuild
